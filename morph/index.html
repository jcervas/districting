<!DOCTYPE html>
<meta charset="utf-8">
<style>

  path {
    stroke-width: 1px;
    stroke: #444;
  }

  text {
    font: bold 50px Libre Franklin, sans-serif;
    text-anchor: middle;
  }

</style>
<body>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script src="https://d3js.org/d3-color.v1.min.js"></script>
<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<script src="https://d3js.org/d3-array.v1.min.js"></script>
<script src="https://d3js.org/d3-geo.v1.min.js"></script>
<script src="https://d3js.org/d3-queue.v3.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>

d3.json('https://github.com/jcervas/districting/blob/master/morph/new.geojson', function(err, json) {
  createMap(json);
})

  var projection = d3.geoConicConformal()
.scale(1000)
.center([-74,42])
.translate([31,124])

var geoGenerator = d3.geoPath()
  .projection(projection);

var path = d3.geoPath(projection);

var geoGenerator = d3.geoPath()
  .projection(projection)

// Join the FeatureCollection's features array to path elements
var u = d3.select('#content g.map')
  .selectAll('path')
  .data(geojson.features);

// Create path elements and update the d attribute using the geo generator
u.enter()
  .append('path')
  .attr('d', geoGenerator);

var context = d3.select('#content canvas')
  .node()
  .getContext('2d');

var geoGenerator = d3.geoPath()
  .projection(projection)
  .context(context);

</script>
